# hyper `Data` Service

A hyper Data service is a document data store for storing JSON documents. List, query, add, update, and delete documents. You can also create indexes to improve query performance.

:::info
Be sure to include any appropriate authN/Z on the request. See [Securing your hyper `Server`](/docs/build/securing-hyper)
:::

[[toc]]

## Create a `Data` Service

Create a hyper `Data` Service in the [`Domain`](/docs/concepts/terminology#domain).

::: code-group

```js [node.js]
import { connect } from "hyper-connect";

const { data } = connect(process.env.HYPER);

await data.create(); // { ok: true }
```

```sh [curl]
export HOST="hyper.host"
export DOMAIN="foobar"

curl -X PUT https://$HOST/data/$DOMAIN
```

:::

### Common Responses

| Status |            Description            |                     Response |
| ------ | :-------------------------------: | ---------------------------: |
| 201    |  The `Data` Service was created   |               `{ ok: true }` |
| 409    | The `Data` Service already exists | `{ ok: false, status: 409 }` |

## Create a Document

Store a Document in the `Data` Service.

A hyper `Data` Service document is a JSON document with one to many fields. An `_id` field is allowed. If an `_id` is not provided, it will be generated by the hyper `Server`. The `_id` field MUST be unique.

:::tip
We recommend providing your own `_id`, when creating a document, that is appropriate for your use-case.
:::

::: code-group

```js [node.js]
import { connect } from 'hyper-connect'

const { data } = connect(process.env.HYPER)

await data.add({ _id: "...", ... }) // { ok: true, id: "..." }
```

```sh [curl]
export HOST="hyper.host"
export DOMAIN="foobar"

curl -X POST https://$HOST/data/$DOMAIN
```

:::

### Common Responses

| Status |                Description                |                     Response |
| ------ | :---------------------------------------: | ---------------------------: |
| 201    |         The document was created          |    `{ ok: true, id: '...' }` |
| 409    | A document with that `_id` already exists | `{ ok: false, status: 409 }` |

## Retrieve a Document

Retrieve a document from a `Data` Service by `_id`

::: code-group

```js [node.js]
import { connect } from "hyper-connect";

const { data } = connect(process.env.HYPER);

await data.get("..."); // { ok: true, doc: { ... } }
```

```sh [curl]
export HOST="hyper.host"
export DOMAIN="foobar"

curl -X GET https://$HOST/data/$DOMAIN/$ID
```

:::

### Common Responses

| Status |                                  Description                                   |                     Response |
| ------ | :----------------------------------------------------------------------------: | ---------------------------: |
| 200    |                           The document was retrieved                           | `{ ok: true, doc: { ... } }` |
| 404    | A document with that `_id` does not exist or the `Data` Service does not exist | `{ ok: false, status: 404 }` |
